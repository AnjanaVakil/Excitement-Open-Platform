package eu.excitementproject.eop.distsim.scoring.similarity;

import java.util.List;



import eu.excitementproject.eop.distsim.domains.RuleDirection;
import eu.excitementproject.eop.distsim.items.AggregatedContext;
import eu.excitementproject.eop.distsim.scoring.ElementIdSimilarityMeasure;
import eu.excitementproject.eop.distsim.scoring.ElementScore;
import eu.excitementproject.eop.distsim.scoring.FeatureScore;
import eu.excitementproject.eop.distsim.storage.ElementFeatureScoreStorage;

import ac.biu.nlp.nlp.general.immutable.ImmutableIterator;


/**
 * @author Meni Adler
 * @since 29/03/2012
 *
 * The ElementSimilarityScoring interface defines the similarity measurement between two directed elements ('left' and 'right')  
 * according to their feature vector scores. 
 */
public interface ElementSimilarityScoring {
	
	/**
	 * Add the score of one feature of a given left and right elements to the given numerator
	 * 
	 * @param leftElementFeatureScore a feature score of a left element
	 * @param rightElementFeatureScore a feature score of a right element
	 */
	void addElementFeatureScore(double leftElementFeatureScore, double rightElementFeatureScore);
	
	
	/**
	 * Calculate the similarity score for two elements, according to their combined feature-based numerator, and their given denominators (usually their element scores)
	 * 
	 * @param leftDenominator a denominator for the left element
	 * @param rightElementScore a denominator for the left element
	 * @return the resulted similarity score
	 */
	double getSimilarityScore(double leftDenominator, double rightDenominator);
	
	/**
	 * Get the similarity score for a given element pair, based on their feature scores
	 * 
	 * @param leftFeatures features of left element
	 * @param rightFeatures feature of right element
	 * @return a similarity score for the given two elements
	 */
	double getSimilarity(ImmutableIterator<FeatureScore> leftFeatures, ImmutableIterator<FeatureScore> rightFeatures);
}
